[{"D:\\桌面\\React_jira\\src\\index.tsx":"1","D:\\桌面\\React_jira\\src\\App.tsx":"2","D:\\桌面\\React_jira\\src\\screens\\project-list\\index.tsx":"3","D:\\桌面\\React_jira\\src\\screens\\project-list\\search-panel.tsx":"4","D:\\桌面\\React_jira\\src\\screens\\project-list\\list.tsx":"5","D:\\桌面\\React_jira\\src\\utils\\index.ts":"6","D:\\桌面\\React_jira\\src\\screens\\context\\index.tsx":"7","D:\\桌面\\React_jira\\src\\screens\\context\\auth-context.tsx":"8","D:\\桌面\\React_jira\\src\\auth-provider.ts":"9","D:\\桌面\\React_jira\\src\\authenticated-app.tsx":"10","D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\index.tsx":"11","D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\register.tsx":"12","D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\login.tsx":"13","D:\\桌面\\React_jira\\src\\utils\\http.ts":"14"},{"size":718,"mtime":1666945723795,"results":"15","hashOfConfig":"16"},{"size":408,"mtime":1666950580620,"results":"17","hashOfConfig":"16"},{"size":983,"mtime":1666969777920,"results":"18","hashOfConfig":"16"},{"size":1110,"mtime":1666793581728,"results":"19","hashOfConfig":"16"},{"size":760,"mtime":1666967512252,"results":"20","hashOfConfig":"16"},{"size":1423,"mtime":1666762937162,"results":"21","hashOfConfig":"16"},{"size":216,"mtime":1666951031461,"results":"22","hashOfConfig":"16"},{"size":1700,"mtime":1666972243470,"results":"23","hashOfConfig":"16"},{"size":1424,"mtime":1666971595630,"results":"24","hashOfConfig":"16"},{"size":353,"mtime":1666950851515,"results":"25","hashOfConfig":"16"},{"size":440,"mtime":1666951031569,"results":"26","hashOfConfig":"16"},{"size":979,"mtime":1666951031625,"results":"27","hashOfConfig":"16"},{"size":1042,"mtime":1666951031600,"results":"28","hashOfConfig":"16"},{"size":1739,"mtime":1666974611425,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1itny2v",{"filePath":"33","messages":"34","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"39","messages":"40","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"41","messages":"42","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"32"},{"filePath":"48","messages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"50","messages":"51","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"56","messages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"D:\\桌面\\React_jira\\src\\index.tsx",[],["60","61"],"D:\\桌面\\React_jira\\src\\App.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\project-list\\index.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\project-list\\search-panel.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\project-list\\list.tsx",[],"D:\\桌面\\React_jira\\src\\utils\\index.ts",[],"D:\\桌面\\React_jira\\src\\screens\\context\\index.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\context\\auth-context.tsx",["62"],"import React, { useState, ReactNode, createContext, useContext } from \"react\";\nimport * as auth from \"auth-provider\";\nimport { User } from \"screens/project-list/search-panel\";\nimport { http } from \"utils/http\";\nimport { useMount } from \"utils\";\ninterface AuthForm {\n  username: string;\n  password: string;\n}\n\nconst bootstrapUser = async () => {\n  let user = null;\n  const token = auth.getToken();\n\n  if (token) {\n    const data = await http(\"me\", { token });\n    user = data.user;\n  }\n  return user;\n};\n\nconst AuthContext = createContext<\n  | {\n      user: User | null;\n      register: (form: AuthForm) => Promise<void>;\n      login: (form: AuthForm) => Promise<void>;\n      logout: () => Promise<void>;\n    }\n  | undefined\n>(undefined);\nAuthContext.displayName = \"AuthoContext\";\n\nexport const AuthProvider = ({ children }: { children: ReactNode }) => {\n  const [user, setUser] = useState<User | null>(null);\n  // point free\n  const login = (form: AuthForm) =>\n    auth.login(form).then((user) => setUser(user));\n  const register = (form: AuthForm) =>\n    auth.register(form).then((user) => setUser(user));\n  const logout = () => auth.logout().then(() => setUser(null));\n\n  useMount(() => {\n    bootstrapUser().then(setUser);\n  });\n\n  return (\n    <AuthContext.Provider\n      children={children}\n      value={{ user, login, register, logout }}\n    />\n  );\n};\n\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error(\"useAuth必须在AuthProvider中使用\");\n  }\n  return context;\n};\n\n// 如何让小明里面的属性都是可以选的？\ntype Person = {\n  name: string;\n  age: number;\n};\n\nconst xiaoming: Person = {\n  name: \"aa\",\n  age: 1,\n};\n","D:\\桌面\\React_jira\\src\\auth-provider.ts",[],"D:\\桌面\\React_jira\\src\\authenticated-app.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\index.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\register.tsx",[],"D:\\桌面\\React_jira\\src\\screens\\unauthenticated-app\\login.tsx",[],"D:\\桌面\\React_jira\\src\\utils\\http.ts",["63","64","65"],{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","replacedBy":"69"},{"ruleId":"70","severity":1,"message":"71","line":68,"column":7,"nodeType":"72","messageId":"73","endLine":68,"endColumn":23},{"ruleId":"70","severity":1,"message":"74","line":5,"column":10,"nodeType":"72","messageId":"73","endLine":5,"endColumn":21},{"ruleId":"75","severity":1,"message":"76","line":27,"column":40,"nodeType":"77","messageId":"78","endLine":27,"endColumn":52},{"ruleId":"75","severity":1,"message":"76","line":33,"column":48,"nodeType":"77","messageId":"78","endLine":33,"endColumn":59},"no-native-reassign",["79"],"no-negated-in-lhs",["80"],"@typescript-eslint/no-unused-vars","'xiaoming' is assigned a value but never used.","Identifier","unusedVar","'useCallback' is defined but never used.","@typescript-eslint/consistent-type-assertions","Use 'as any' instead of '<any>'.","TSTypeAssertion","as","no-global-assign","no-unsafe-negation"]